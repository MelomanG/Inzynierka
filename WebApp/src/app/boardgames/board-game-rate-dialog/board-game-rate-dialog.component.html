<div *ngIf="!bg">
    <mat-spinner></mat-spinner>
</div>
<div *ngIf="!isAuthenticated">
  <h2 mat-dialog-title>Zaloguj się by dodać opinię</h2>
</div>
<div *ngIf="bg && isAuthenticated">
    <h2 mat-dialog-title>Dodaj opinie dla {{ bg.name }}</h2>
    <mat-dialog-content>
      <div class="container">
        
        <app-star-rating style="margin-bottom: 10px;" [disableAmmount]="true" [rating]='rate.userRate' [itemId]='bg.id' (ratingClick)='ratingComponentClick($event)'></app-star-rating>

        <mat-form-field>
          <textarea matInput placeholder="Komentarz (opcjonalne)" [(ngModel)]="rate.comment"></textarea>
        </mat-form-field>
    
      </div>
    
    </mat-dialog-content>
    <mat-dialog-actions>
      <button *ngIf="!rate.id" mat-button color="primary" (click)="save()">
        <mat-icon>save</mat-icon> Zapisz
      </button>
      <button *ngIf="rate.id" mat-button color="primary" (click)="update()">
        <mat-icon>save</mat-icon> Edytuj
      </button>
      <button mat-button color="primary" (click)="dismiss()">
        <mat-icon>cancel</mat-icon> Cancel
      </button>
    </mat-dialog-actions>
</div>